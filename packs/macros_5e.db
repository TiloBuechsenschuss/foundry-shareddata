{"name":"Roll for Stats (4d6)","permission":{"default":0,"ZDhhZWUyYmQ2MTQw":3},"type":"chat","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.aan1ud8ZGJ5iB4IA"}},"scope":"global","command":"[[4d6d1]] [[4d6d1]] [[4d6d1]] [[4d6d1]] [[4d6d1]] [[4d6d1]]","author":"ZDhhZWUyYmQ2MTQw","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"BkJ9YieCfE07EaDt"}
{"name":"Light Picker","permission":{"default":0,"ZDhhZWUyYmQ2MTQw":3},"type":"script","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.Ev37y675roIkoCRd"}},"scope":"global","command":"function tokenUpdate(data) {\n  canvas.tokens.controlled.map(token => token.update(data));\n}\n\nlet torchAnimation = {\"type\": \"torch\", \"speed\": 1, \"intensity\": 1};\n\nlet dialogEditor = new Dialog({\n  title: `Token Light Picker`,\n  content: `Pick the light source the selected token is holding.`,\n  buttons: {\n    none: {\n      label: `None`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": null, \"brightLight\": null, \"lightAngle\": 360,});\n        dialogEditor.render(true);\n      }\n    },\n    torch: {\n      label: `Torch`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 40, \"brightLight\": 20, \"lightAngle\": 360, \"lightAnimation\": torchAnimation});\n        dialogEditor.render(true);\n      }\n    },\n    light: {\n      label: `Light cantrip`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 40, \"brightLight\": 20, \"lightAngle\": 360, \"lightAnimation\": {\"type\": \"none\"}});\n        dialogEditor.render(true);\n      }\n    },\n    lamp: {\n      label: `Lamp`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 45, \"brightLight\": 15, \"lightAngle\": 360, \"lightAnimation\": torchAnimation});\n        dialogEditor.render(true);\n      }\n    },\n    bullseye: {\n      label: `Bullseye Lantern`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 120, \"brightLight\": 60, \"lightAngle\": 45, \"lightAnimation\": torchAnimation});\n        dialogEditor.render(true);\n      }\n    },\n    hoodedOpen: {\n      label: `Hooded Lantern (Open)`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 60, \"brightLight\": 30, \"lightAngle\": 360, \"lightAnimation\": torchAnimation});\n        dialogEditor.render(true);\n      }\n    },\n    hoodedClosed: {\n      label: `Hooded Lantern (Closed)`,\n      callback: () => {\n        tokenUpdate({\"dimLight\": 5, \"brightLight\": 0, \"lightAngle\": 360, \"lightAnimation\": torchAnimation});\n        dialogEditor.render(true);\n      }\n    },\n    close: {\n      icon: \"<i class='fas fa-tick'></i>\",\n      label: `Close`\n    },\n  },\n  default: \"close\",\n  close: () => {}\n});\n\ndialogEditor.render(true)","author":"ZDhhZWUyYmQ2MTQw","img":"icons/sundries/lights/lantern-iron-yellow.webp","actorIds":[],"_id":"Y8mZTY4r5cr6jBFH"}
